<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- Chèn jquery -->
  <script src="jquery-3.3.1.min.js"></script>
  <!-- Kết nối socket.io -->
  <script src="socket.io/socket.io.js"></script>
  <!-- Tiêu đề -->
  <title>Welcome</title>
</head>
<!-- Close head -->
<body>
  <h1 id="home">Trang chủ</h1>
  <div>
    <label for="tinhthanh">Tỉnh thành </label>
    <select class="" name="tinhthanh" id="list1" onchange="getSelect1();">
      <option value="">-- Chọn Tỉnh thành --</option>
      <% data1.forEach(function(ds){ %>
          <option value='<%= ds.id%>'><%= ds.TEN_TINH%></option>
      <%})%>
    </select>
  </div>

  <div id="list2" style="visibility: hidden;">
    <label for="quanhuyen">Quận/Huyện </label>
    <select class="" name="" id="quanhuyen" onchange="getSelect1();">
      <option value="">-- Chọn Quận/Huyện --</option>
      <% data2.forEach(function(ds){ %>
          <option value='<%= ds.id%>'><%= ds.TEN_QUAN_HUYEN%></option>
      <%})%>
    </select>
  </div>
  <!-- Gọi về server -->
  <script type="text/javascript">
      const socket = io("http://localhost:3000/");
  </script>
  <!-- Close gọi về server -->
  <!-- Xử lý Dynamic drop list -->
  <script>
    function getSelect1(){
      var Sel1 = document.getElementById("list1").value;
      console.log(Sel1);
      if(Sel1 == ""){
        document.getElementById('list2').style.visibility = 'hidden';
      }else if(Sel1 != null) {
        document.getElementById('list2').style.visibility = 'visible';
      }else {
        document.getElementById('list2').style.visibility = 'hidden';
      }
      return false;
    }
  </script>
  <script type="text/javascript">
    $(document).ready(function(){
      $('#home').click(function(){
        socket.emit("trangchu_send_data","Hello");
      })
    })
  </script>
</body>
</html>
